#!/bin/bash

# Now, let's do the same, using C-like syntax.

GPFS_PATH=/disks/scratchgpfs1/iraicu/Falkon-data/in

  
START_NUM=1
END_NUM=32768
DATA_SIZE=1B
EXP_NAME=data_gpfs_cache_read_write_${DATA_SIZE}

echo "generating data of size ${DATA_SIZE}..."
for ((a=${START_NUM}; a <= ${END_NUM} ; a++))  # Double parentheses, and "LIMIT" with no "$".
do
  echo "/bin/cp file_${DATA_SIZE}_${a} out_${DATA_SIZE}_${a} %%% file_${DATA_SIZE}_${a} %%% $GPFS_PATH/$DATA_SIZE/file_${a} %%% out_${DATA_SIZE}_${a} %%% null %%%" >> $EXP_NAME 
done                           # A construct borrowed from 'ksh93'.

START_NUM=1
END_NUM=32768
DATA_SIZE=1KB
EXP_NAME=data_gpfs_cache_read_write_${DATA_SIZE}

echo "generating data of size ${DATA_SIZE}..."
for ((a=${START_NUM}; a <= ${END_NUM} ; a++))  # Double parentheses, and "LIMIT" with no "$".
do
  echo "/bin/cp file_${DATA_SIZE}_${a} out_${DATA_SIZE}_${a} %%% file_${DATA_SIZE}_${a} %%% $GPFS_PATH/$DATA_SIZE/file_${a} %%% out_${DATA_SIZE}_${a} %%% null %%%" >> $EXP_NAME 
done                           # A construct borrowed from 'ksh93'.

START_NUM=1
END_NUM=32768
DATA_SIZE=10KB
EXP_NAME=data_gpfs_cache_read_write_${DATA_SIZE}

echo "generating data of size ${DATA_SIZE}..."
for ((a=${START_NUM}; a <= ${END_NUM} ; a++))  # Double parentheses, and "LIMIT" with no "$".
do
  echo "/bin/cp file_${DATA_SIZE}_${a} out_${DATA_SIZE}_${a} %%% file_${DATA_SIZE}_${a} %%% $GPFS_PATH/$DATA_SIZE/file_${a} %%% out_${DATA_SIZE}_${a} %%% null %%%" >> $EXP_NAME 
done                           # A construct borrowed from 'ksh93'.

START_NUM=1
END_NUM=32768
DATA_SIZE=100KB
EXP_NAME=data_gpfs_cache_read_write_${DATA_SIZE}

echo "generating data of size ${DATA_SIZE}..."
for ((a=${START_NUM}; a <= ${END_NUM} ; a++))  # Double parentheses, and "LIMIT" with no "$".
do
  echo "/bin/cp file_${DATA_SIZE}_${a} out_${DATA_SIZE}_${a} %%% file_${DATA_SIZE}_${a} %%% $GPFS_PATH/$DATA_SIZE/file_${a} %%% out_${DATA_SIZE}_${a} %%% null %%%" >> $EXP_NAME 
done                           # A construct borrowed from 'ksh93'.

START_NUM=1
END_NUM=32768
DATA_SIZE=1MB
EXP_NAME=data_gpfs_cache_read_write_${DATA_SIZE}

echo "generating data of size ${DATA_SIZE}..."
for ((a=${START_NUM}; a <= ${END_NUM} ; a++))  # Double parentheses, and "LIMIT" with no "$".
do
  echo "/bin/cp file_${DATA_SIZE}_${a} out_${DATA_SIZE}_${a} %%% file_${DATA_SIZE}_${a} %%% $GPFS_PATH/$DATA_SIZE/file_${a} %%% out_${DATA_SIZE}_${a} %%% null %%%" >> $EXP_NAME 
done                           # A construct borrowed from 'ksh93'.

START_NUM=1
END_NUM=32768
DATA_SIZE=10MB
EXP_NAME=data_gpfs_cache_read_write_${DATA_SIZE}

echo "generating data of size ${DATA_SIZE}..."
for ((a=${START_NUM}; a <= ${END_NUM} ; a++))  # Double parentheses, and "LIMIT" with no "$".
do
  echo "/bin/cp file_${DATA_SIZE}_${a} out_${DATA_SIZE}_${a} %%% file_${DATA_SIZE}_${a} %%% $GPFS_PATH/$DATA_SIZE/file_${a} %%% out_${DATA_SIZE}_${a} %%% null %%%" >> $EXP_NAME 
done                           # A construct borrowed from 'ksh93'.

START_NUM=1
END_NUM=4096
DATA_SIZE=100MB
EXP_NAME=data_gpfs_cache_read_write_${DATA_SIZE}

echo "generating data of size ${DATA_SIZE}..."
for ((a=${START_NUM}; a <= ${END_NUM} ; a++))  # Double parentheses, and "LIMIT" with no "$".
do
  echo "/bin/cp file_${DATA_SIZE}_${a} out_${DATA_SIZE}_${a} %%% file_${DATA_SIZE}_${a} %%% $GPFS_PATH/$DATA_SIZE/file_${a} %%% out_${DATA_SIZE}_${a} %%% null %%%" >> $EXP_NAME 
done                           # A construct borrowed from 'ksh93'.

START_NUM=1
END_NUM=512
DATA_SIZE=1GB
EXP_NAME=data_gpfs_cache_read_write_${DATA_SIZE}

echo "generating data of size ${DATA_SIZE}..."
for ((a=${START_NUM}; a <= ${END_NUM} ; a++))  # Double parentheses, and "LIMIT" with no "$".
do
  echo "/bin/cp file_${DATA_SIZE}_${a} out_${DATA_SIZE}_${a} %%% file_${DATA_SIZE}_${a} %%% $GPFS_PATH/$DATA_SIZE/file_${a} %%% out_${DATA_SIZE}_${a} %%% null %%%" >> $EXP_NAME 
done                           # A construct borrowed from 'ksh93'.

